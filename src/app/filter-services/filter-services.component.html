<div class="logout">
  <app-logout></app-logout>
</div>
<div>
  <form [formGroup]="filterForm">
    <div class="form">
      <div class="form-group">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="note">Note</label>
        <input
          type="text"
          id="note"
          formControlName="note"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="startdate">startCreateDate</label>
        <input
          type="datetime-local"
          id="startdate"
          formControlName="startCreateDate"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="enddate">endCreateDate</label>
        <input
          type="datetime-local"
          id="enddate"
          formControlName="endCreateDate"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="active">Active</label>
        <select id="active" formControlName="active" class="form-control">
          <option [ngValue]="null"></option>
          <option [ngValue]="true">Active</option>
          <option [ngValue]="false">Inactive</option>
        </select>
      </div>
      <div class="form-group">
        <label for="pageNumber">page Number</label>
        <input
          type="number"
          id="pageNumber"
          formControlName="pageNumber"
          class="form-control"
          min="1"
          required
        />
      </div>
      <div class="form-group">
        <label for="pageSize">page Size</label>
        <input
          type="number"
          id="pageSize"
          formControlName="pageSize"
          class="form-control"
          min="1"
          required
        />
      </div>
    </div>
  </form>
</div>

<!-- Display the filtered results here -->
<app-loading-spinner *ngIf="submitted; else resulte"></app-loading-spinner>
<!-- result template  -->
<ng-template #resulte>
  <div class="search-result">
    <ng-container *ngIf="results.length; else elseBlock">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Note</th>
            <th>Create Date</th>
            <th>Status</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of results">
            <td>{{ item.name }}</td>
            <td>{{ item.note }}</td>
            <td>{{ item.createDate | date }}</td>
            <td>
              <ng-container *ngIf="item.isActive; else inactive"
                >Active</ng-container
              >
              <ng-template #inactive>Inactive></ng-template>
            </td>
            <td>
              <a [routerLink]="['/FilterBills', item.id]">FilterBills</a>
            </td>
            <td>
              <button (click)="openModal(item.id)" class="actionbutton">
                AddBill
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="pagination">
        <button class="prev" *ngIf="hasPreviousPage" (click)="Previous()">
          Previous
        </button>
        <button class="next" *ngIf="hasNextPage" (click)="next()">Next</button>
      </div>
    </ng-container>
    <ng-template #elseBlock>
      <div class="empty">No service</div>
    </ng-template>
  </div>
</ng-template>
<!-- AddBull Model -->
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-header">
    <h3>Add Bill</h3>
    <button class="close" (click)="closeModal()">X</button>
  </div>
  <div class="modal-body">
    <app-add-bill-form [serviceId]="serviceId"></app-add-bill-form>
  </div>
</div>
